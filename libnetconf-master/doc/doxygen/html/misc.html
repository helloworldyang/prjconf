<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libnetconf: Miscelaneous</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="usage.html">Using libnetconf</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="misc">Miscelaneous </a></h1><p>[RFC6021]: <a href="http://tools.ietf.org/html/rfc6021">http://tools.ietf.org/html/rfc6021</a> "RFC 6021" [RFC6241]: <a href="http://tools.ietf.org/html/rfc6241">http://tools.ietf.org/html/rfc6241</a> "RFC 6241"</p>
<h2><a class="anchor" id="misc-datetime">
Date and Time</a></h2>
<p>Various YANG data models uses YANG date-and-time type for representation of dates and times. The type is defined in ietf-yang-types module that comes from [RFC 6021][RFC6021]. The date-and-time type is, for example, used in all NETCONF event notifications.</p>
<p>The date-and-time format examples: ~~~~~~~ 2014-06-05T12:19:58Z 2014-06-05T14:19:58+02:00 ~~~~~~~</p>
<p>libnetconf provides two functions to handle timestamps:</p>
<ul>
<li><a class="el" href="d3/d35/group__gen_a_p_i.html#ga4dfd796fda30d3ad8588b4c30c4c1583" title="Transform given string in RFC 3339 compliant format to the time_t (seconds since...">nc_datetime2time()</a> to convert YANG date-and-time value to ISO C time_t data type representing the time as the number of seconds since Epoch (1970-01-01 00:00:00 +0000 UTC). This data type is used by various standard functions such as localtime() or ctime().</li>
<li><a class="el" href="d3/d35/group__gen_a_p_i.html#ga90a44b60b04512fd0a3507ab35a1ccc4" title="Transform given time_t (seconds since the epoch) into the RFC 3339 format accepted...">nc_time2datetime()</a> is a reverse function to the previous one. Optionally, it accepts specification of the timezone in which the resulting date-and-time value will be returned.</li>
</ul>
<h2><a class="anchor" id="misc-errors">
NETCONF Errors Handling</a></h2>
<p>NETCONF protocol specifications ([RFC 6241][RFC6241]) defines list of errors that can be returned by the server. libnetconf provides a set of functions that server to create, manipulate and process NETCONF errors.</p>
<p>NETCONF error is represented by `struct nc_err`. Specifying one of the <a class="el" href="da/d41/error_8h.html#a170ed93037b65394a05e074400848eb2">basic errors</a>, a new error structure can be created by calling the <a class="el" href="d3/d35/group__gen_a_p_i.html#ga057524ba5256c428b6bf88710f000e0c" title="Create a new error description structure.">nc_err_new()</a> function. If the caller want to change a <a class="el" href="d3/d7a/netconf_8h.html#a39c5f77f5cf9108a27e7a65f3b2ba73d">specific attribute</a>, the <a class="el" href="d3/d35/group__gen_a_p_i.html#gab28d881eeebd79d485391ae1ffc97299" title="Set selected parameter of the NETCONF error structure to the specified value.">nc_err_set()</a> function can be used. To get the value of the <a class="el" href="d3/d7a/netconf_8h.html#a39c5f77f5cf9108a27e7a65f3b2ba73d">specific error attribute</a>, there is <a class="el" href="d3/d35/group__gen_a_p_i.html#ga3d7714f1f56ac7203a80c61aea4344f8" title="Get value of the specified parameter of the NETCONF error structure.">nc_err_get()</a> function. If the caller want to create a copy of some existing error structure, <a class="el" href="d3/d35/group__gen_a_p_i.html#ga316faef1140f1b48a2ed1de6d84d2bef" title="Duplicate an error description structure.">nc_err_dup()</a> can be used. And finally to free all allocated resources, the <a class="el" href="d3/d35/group__gen_a_p_i.html#gac4bd51febe24b517d1952d1c1d8f6b07" title="Free NETCONF error structure.">nc_err_free()</a> is available.</p>
<p>To create &lt;rpc-error&gt; reply, the application is supposed to use <a class="el" href="d0/de2/group__reply.html#ga12fd89263289491b84398279e0e449fd" title="Create rpc-reply response with &lt;rpc-error&gt; content.">nc_reply_error()</a> and <a class="el" href="d0/de2/group__reply.html#gafb04a6695650d05a07b571ac1410a681" title="Add another error description into the existing rpc-reply with &lt;rpc-error&gt;...">nc_reply_error_add()</a> to add another error structure to the reply.</p>
<p>On the client side, &lt;rpc-error&gt; replies can be handled manually as any other &lt;rpc-reply&gt; recognizing its type using <a class="el" href="d0/de2/group__reply.html#gab12cdef82337060c425348dada7fe983" title="Get the type of the rpc-reply message.">nc_reply_get_type()</a> and then by getting the error message via <a class="el" href="d0/de2/group__reply.html#ga121d66d8f7437d87a995b82187e7e7ff" title="Get error-message from the server&#39;s &lt;rpc-error&gt; reply.">nc_reply_get_errormsg()</a> and parsing its content manually. The other, recomended, way how to handle incoming &lt;rpc-error&gt; replies is to specify the callback function via <a class="el" href="d0/de2/group__reply.html#ga771a110143440bcd3b7d4c0e98388e80" title="Set a callback function to process (e.g. print) NETCONF &lt;rpc-error&gt; message...">nc_callback_error_reply()</a>. The callback is automatically invoked to process (e.g. print) &lt;rpc-error&gt; message. In this case, all NETCONF error attributes are parsed and passed to the callback function.</p>
<h2><a class="anchor" id="misc-logging">
Logging Messages</a></h2>
<p>libnetconf provides information about the data processing on several <a class="el" href="d3/d35/group__gen_a_p_i.html#ga921d994eb69a9efd93ef85cf4a6cd060">verbose levels</a>. However, by default there is no printing routine, so no message from libnetconf appears until the printing callback is specified using <a class="el" href="d3/d35/group__gen_a_p_i.html#ga806dfa9c27d2b8076bae21bcd549cce7" title="Set a callback function for printing libnetconf&#39;s messages.If the func parameter...">nc_callback_print()</a> function. Application is able to set (and change) the current <a class="el" href="d3/d35/group__gen_a_p_i.html#ga921d994eb69a9efd93ef85cf4a6cd060">verbose levels</a> via the <a class="el" href="d3/d35/group__gen_a_p_i.html#gadd8fd7b3bb2e7cba580c9a4229fe02d7" title="Set libnetconf&#39;s verbosity level.">nc_verbosity()</a> function.</p>
<p>Mainly for <a class="el" href="transapi.html">transAPI</a> modules, there is a set of functions to access message printing callback outside the library:</p>
<ul>
<li><a class="el" href="d3/d35/group__gen_a_p_i.html#gabd4e3697f3a1fe6b5853e692ad20c2bb" title="Function for logging error messages.">nc_verb_error()</a></li>
<li><a class="el" href="d3/d35/group__gen_a_p_i.html#ga943a7c859f20bb1278964a7424762d8e" title="Function for logging warning messages.">nc_verb_warning()</a></li>
<li><a class="el" href="d3/d35/group__gen_a_p_i.html#gae4f0d22fb274269c0259497abb702f5d" title="Function for logging verbose messages.">nc_verb_verbose()</a> </li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 8 Dec 2015 for libnetconf by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
